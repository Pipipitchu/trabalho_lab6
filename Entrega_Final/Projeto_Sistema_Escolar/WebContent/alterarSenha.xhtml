<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<style type="text/css">
body {
	background-image:
		url('#{request.contextPath}/images/pagina_inicial.jpg');
	background-size: 100%;
}
</style>
	<title>Sistema de Controle Escolar - Alterar Senha</title>
</h:head>
<h:body>
	<h:form>
		<p:growl id="messages" />

		<p:menubar>
			<p:menuitem value="Página Inicial" url="paginaPrincipal.xhtml" />

			<p:submenu style="margin-left:1%" label="Administração">
				<p:menuitem value="Cadastro de Alunos" url="cadastroAluno.xhtml" />
				<p:menuitem value="Cadastro de Professores"
					url="cadastroProfessor.xhtml" />
			</p:submenu>

			<p:menuitem style="margin-left:7%" value="Lançar Notas"
				url="lancarNotas.xhtml" />

			<p:submenu style="margin-left:1%" label="Gerar Relatório">
				<p:menuitem value="Alunos" url="relatorioAluno.xhtml" />
				<p:menuitem value="Turma" url="relatorioTurma.xhtml" />
			</p:submenu>

			<p:menuitem style="margin-left:5%" value="Agendamento de Eventos"
				url="agendarEventos.xhtml" />

			<p:menuitem style="margin-left:7%" value="Alterar Senha" url="alterarSenha.xhtml" />

			<f:facet name="options">
				<p:commandButton value="Logout" icon="ui-icon-extlink"
					action="#{escolarBean.paginaLogin}" ajax="false" />
			</f:facet>
		</p:menubar>
		<p:separator />

		<div
			style="display: block; margin-top: 1%; margin-left: 5%; width: 90%;">
			<p:panel header="Alterar a Senha" style="display:block; ">
			<h:outputText value="Digite seu Login: " />
				<p:inputText id="login" maxlength="20" style="width:20%" value="#{escolarBean.userTO.nome}" requiredMessage="Preencha o campo de login!" required="true" />
				<p />
				<h:outputText value="Digite sua Senha: " />
				<p:password id="senha" maxlength="32" style="width:19.5%" requiredMessage="Preencha o campo de senha atual!" value="#{escolarBean.userTO.senha}" required="true" />
				<p />
				<h:outputText value="Digite nova Senha: " />
				<p:password id="novasenha" maxlength="32" style="width:18.6%" feedback="true"
                    promptLabel="Insira a senha" weakLabel="Fraca"
                    goodLabel="Média" strongLabel="Forte" match="repeat" requiredMessage="Preencha o campo com a nova senha!" value="#{escolarBean.userTO.nova_senha}" validatorMessage="As senhas não batem!"  required="true" />
				<p />
				<h:outputText value="Digite-a Novamente: " />
				<p:password id="repeat" maxlength="32" style="width:17.5%" requiredMessage="Preencha o campo de repetição de senha!" validatorMessage="As senhas não batem!" required="true" />
				<p />
				<br />
				<p:commandButton  style="margin-left:40%" value="Salvar" actionListener="#{escolarBean.alterarSenha}" ajax="false" />	
				<p:commandButton style="margin-left:2%" value="Voltar" action="#{escolarBean.paginaPrincipal}" ajax="false" />
				<p />
			</p:panel>
		</div>
	</h:form>
</h:body>
</html>